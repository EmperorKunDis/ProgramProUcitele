<h1>Automatizace & Skripty</h1>

<p>Automatizujte opakuj√≠c√≠ se √∫koly a nechte AI pracovat, i kdy≈æ sp√≠te. Skuteƒçn√° s√≠la je v bezobslu≈æn√©m provozu.</p>

<h2>Typy automatizace</h2>

<table>
    <thead>
        <tr><th>Typ</th><th>Trigger</th><th>P≈ô√≠klad</th></tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Scheduled</strong></td>
            <td>ƒåas (cron)</td>
            <td>Denn√≠ security scan</td>
        </tr>
        <tr>
            <td><strong>Event-driven</strong></td>
            <td>Git hook, webhook</td>
            <td>Review p≈ôi PR</td>
        </tr>
        <tr>
            <td><strong>Continuous</strong></td>
            <td>Monitoring</td>
            <td>Log analysis</td>
        </tr>
        <tr>
            <td><strong>On-demand</strong></td>
            <td>API vol√°n√≠</td>
            <td>Slack command</td>
        </tr>
    </tbody>
</table>

<h2>Scheduled Tasks</h2>

<h3>Cron-based automatizace</h3>

<pre><code class="language-yaml"># .gemini/automation/scheduled.yaml
schedules:
  - name: daily-security-scan
    cron: "0 6 * * *"  # Ka≈æd√Ω den v 6:00
    agent: security-scanner
    prompt: |
      Proveƒè security scan projektu:
      1. Zkontroluj z√°vislosti (npm audit)
      2. Hledej hardcoded secrets
      3. Analyzuj OWASP Top 10
      4. Vytvo≈ô report do security/daily-report.md

  - name: weekly-docs-update
    cron: "0 9 * * 1"  # Ka≈æd√© pondƒõl√≠ v 9:00
    agent: docs-writer
    prompt: |
      Aktualizuj dokumentaci:
      1. Sync API docs s k√≥dem
      2. Aktualizuj changelog
      3. Zkontroluj broken links

  - name: monthly-refactor-suggestions
    cron: "0 10 1 * *"  # 1. den v mƒõs√≠ci
    agent: code-analyzer
    prompt: |
      Analyzuj codebase a navrhni refaktoring:
      1. Identifikuj code smells
      2. Najdi duplicitn√≠ k√≥d
      3. Navrhni architektonick√° vylep≈°en√≠</code></pre>

<h2>Event-Driven Automation</h2>

<h3>Git Hooks</h3>

<pre><code class="language-yaml"># .gemini/automation/git-hooks.yaml
hooks:
  pre-commit:
    - name: lint-check
      run: npm run lint
    - name: ai-quick-review
      agent: code-reviewer
      mode: fast
      prompt: "Rychl√° kontrola staged zmƒõn. Blokuj commit p≈ôi critical issues."

  pre-push:
    - name: full-test-suite
      run: npm test
    - name: ai-security-check
      agent: security-scanner
      prompt: "Zkontroluj zmƒõny na security issues p≈ôed push."

  post-merge:
    - name: update-docs
      agent: docs-writer
      prompt: "Aktualizuj docs pokud se zmƒõnilo API."</code></pre>

<h3>Webhook Handlers</h3>

<pre><code class="language-yaml"># .gemini/automation/webhooks.yaml
webhooks:
  github:
    pull_request:
      opened:
        - agent: code-reviewer
          prompt: "Proveƒè full code review"
        - agent: docs-writer
          prompt: "Zkontroluj zda je pot≈ôeba docs update"

    issues:
      opened:
        - agent: triage-bot
          prompt: |
            Analyzuj issue:
            1. P≈ôi≈ôaƒè priority label
            2. Kategorizuj (bug/feature/docs)
            3. Doporuƒç assignee

  slack:
    message:
      pattern: "@ai-helper"
      - agent: general-assistant
        prompt: "Odpovƒõz na dotaz z Slacku"</code></pre>

<h2>Automation Workflows</h2>

<h3>Komplexn√≠ workflow</h3>

<pre><code class="language-yaml"># .gemini/workflows/release-automation.yaml
name: Release Automation
description: Automatizace release procesu

trigger:
  - tag: "v*"

steps:
  - name: validate
    agent: code-reviewer
    prompt: "Zkontroluj ≈æe v≈°echny testy proch√°z√≠"
    on_failure: abort

  - name: changelog
    agent: docs-writer
    prompt: |
      Vygeneruj changelog od posledn√≠ho release:
      - Commituj changes
      - Kategorizuj (Features, Fixes, Breaking)
      - P≈ôidej do CHANGELOG.md

  - name: release-notes
    agent: docs-writer
    prompt: "Vytvo≈ô release notes pro GitHub release"
    output: release-notes.md

  - name: notify
    action: slack
    channel: "#releases"
    message: "üöÄ New release {{tag}} is ready!"

  - name: deploy
    condition: branch == 'main'
    action: deploy
    target: production</code></pre>

<h2>Monitoring & Alerting</h2>

<pre><code class="language-yaml"># .gemini/automation/monitoring.yaml
monitors:
  - name: error-spike-detector
    source: logs
    pattern: "ERROR|FATAL"
    threshold: 10/minute
    agent: incident-responder
    prompt: |
      Detekov√°n spike chyb v log√°ch.
      1. Analyzuj root cause
      2. Navrhni immediate fix
      3. Vytvo≈ô incident report

  - name: performance-degradation
    source: metrics
    metric: response_time_p95
    threshold: "> 500ms"
    agent: performance-analyzer
    prompt: "Analyzuj p≈ô√≠ƒçinu zpomalen√≠ a navrhni optimalizace"</code></pre>

<h2>CLI Skripty</h2>

<pre><code class="language-bash">#!/bin/bash
# scripts/ai-review.sh

# Spust√≠ AI review na aktu√°ln√≠ch zmƒõn√°ch
gemini agent run code-reviewer \
  --prompt "Review staged changes" \
  --context "$(git diff --staged)" \
  --output review-report.md

# Kontrola v√Ωsledku
if grep -q "CRITICAL" review-report.md; then
  echo "‚ùå Critical issues found. Review report:"
  cat review-report.md
  exit 1
fi

echo "‚úÖ Review passed"</code></pre>

<h2>Best Practices</h2>

<div class="callout callout-info">
    <div class="callout-icon">üìã</div>
    <div class="callout-content">
        <strong>Checklist pro automatizaci:</strong>
        <ul style="margin-bottom: 0;">
            <li>‚úÖ Testujte automation lok√°lnƒõ p≈ôed production</li>
            <li>‚úÖ Nastavte timeouty pro dlouh√© √∫koly</li>
            <li>‚úÖ Implementujte retry logic</li>
            <li>‚úÖ Logujte v≈°echny akce pro audit</li>
            <li>‚úÖ Nastavte alerting p≈ôi selh√°n√≠</li>
        </ul>
    </div>
</div>

<div class="callout callout-tip">
    <div class="callout-icon">üí°</div>
    <div class="callout-content">
        <strong>Pro Tip:</strong> Zaƒçnƒõte s jednoduchou automatizac√≠ (nap≈ô. daily report) a postupnƒõ p≈ôid√°vejte komplexnƒõj≈°√≠ workflows.
    </div>
</div>

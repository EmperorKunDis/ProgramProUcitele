<h1>VlastnÃ­ Agenti</h1>

<p>VytvoÅ™te specializovanÃ© AI asistenty pÅ™esnÄ› pro vaÅ¡e potÅ™eby. Custom agenti jsou klÃ­Äem k maximÃ¡lnÃ­ produktivitÄ›.</p>

<h2>ProÄ vlastnÃ­ agenti?</h2>

<ul>
    <li><strong>Specializace</strong> - Agent optimalizovanÃ½ pro konkrÃ©tnÃ­ Ãºkol</li>
    <li><strong>Konzistence</strong> - VÅ¾dy stejnÃ½ styl a pÅ™Ã­stup</li>
    <li><strong>Efektivita</strong> - MÃ©nÄ› instrukcÃ­, rychlejÅ¡Ã­ vÃ½sledky</li>
    <li><strong>Å kÃ¡lovatelnost</strong> - SdÃ­lenÃ­ napÅ™Ã­Ä tÃ½mem</li>
</ul>

<h2>Architektura custom agenta</h2>

<pre><code class="language-text">.gemini/agents/
â”œâ”€â”€ code-reviewer/
â”‚   â”œâ”€â”€ agent.yaml       # Konfigurace agenta
â”‚   â”œâ”€â”€ system-prompt.md # ZÃ¡kladnÃ­ instrukce
â”‚   â”œâ”€â”€ examples/        # Few-shot pÅ™Ã­klady
â”‚   â”‚   â”œâ”€â”€ good-review.md
â”‚   â”‚   â””â”€â”€ bad-review.md
â”‚   â””â”€â”€ tools/           # Custom nÃ¡stroje
â”‚       â””â”€â”€ check-coverage.js
â”œâ”€â”€ docs-writer/
â”‚   â”œâ”€â”€ agent.yaml
â”‚   â””â”€â”€ system-prompt.md
â””â”€â”€ bug-hunter/
    â”œâ”€â”€ agent.yaml
    â””â”€â”€ system-prompt.md</code></pre>

<h2>VytvoÅ™enÃ­ agenta</h2>

<h3>1. Konfigurace (agent.yaml)</h3>

<pre><code class="language-yaml"># .gemini/agents/code-reviewer/agent.yaml
name: Code Reviewer Pro
version: "1.0.0"
description: SpecializovanÃ½ agent pro code review

model:
  primary: gemini-3-pro
  fallback: gemini-3-flash

capabilities:
  - code_analysis
  - security_scan
  - performance_check

tools:
  - filesystem
  - git

context:
  max_tokens: 32000
  include:
    - "src/**/*.ts"
    - "tests/**/*.ts"
  exclude:
    - "node_modules/**"
    - "dist/**"

triggers:
  - on: pull_request
    action: auto_review
  - on: command
    pattern: "@reviewer"</code></pre>

<h3>2. System Prompt</h3>

<pre><code class="language-markdown"># .gemini/agents/code-reviewer/system-prompt.md

# Code Reviewer Pro

## Role
Jsi senior code reviewer s 10+ lety zkuÅ¡enostÃ­ v enterprise vÃ½voji.
TvÃ½m cÃ­lem je zajistit kvalitu, bezpeÄnost a udrÅ¾itelnost kÃ³du.

## HodnotÃ­cÃ­ kritÃ©ria

### ğŸ”’ BezpeÄnost (Priorita 1)
- SQL injection, XSS, CSRF
- Hardcoded credentials
- Unsafe deserialization
- Path traversal

### âš¡ Performance (Priorita 2)
- N+1 queries
- Memory leaks
- Unnecessary re-renders
- Missing memoization

### ğŸ“– ÄŒitelnost (Priorita 3)
- Naming conventions
- Function complexity
- Code duplication
- Missing documentation

### ğŸ§ª Testovatelnost (Priorita 4)
- Test coverage
- Mocking strategy
- Edge cases

## FormÃ¡t odpovÄ›di

```markdown
## ğŸ“‹ Code Review Summary

**Overall Rating:** â­â­â­â­â˜† (4/5)

### ğŸš¨ Critical Issues (must fix)
- [File:Line] Description

### âš ï¸ Warnings (should fix)
- [File:Line] Description

### ğŸ’¡ Suggestions (nice to have)
- [File:Line] Description

### âœ… What's Good
- Positive observations
```

## Pravidla
- BuÄ konstruktivnÃ­, ne kritickÃ½
- VÅ¾dy navrhni konkrÃ©tnÃ­ Å™eÅ¡enÃ­
- OceÅˆ dobrÃ© praktiky
- Prioritizuj podle severity</code></pre>

<h3>3. Few-Shot pÅ™Ã­klady</h3>

<pre><code class="language-markdown"># examples/good-review.md

## Input
```typescript
const user = await db.query(`SELECT * FROM users WHERE id = ${userId}`);
```

## Output
### ğŸš¨ Critical: SQL Injection Vulnerability

**Soubor:** src/services/user.ts:45

**ProblÃ©m:**
PÅ™Ã­mÃ¡ interpolace `userId` do SQL dotazu umoÅ¾Åˆuje SQL injection Ãºtok.

**Riziko:**
ÃštoÄnÃ­k mÅ¯Å¾e manipulovat dotaz a zÃ­skat/smazat data.

**Oprava:**
```typescript
const user = await db.query(
  'SELECT * FROM users WHERE id = $1',
  [userId]
);
```

**Reference:** OWASP SQL Injection Prevention</code></pre>

<h2>SpecializovanÃ­ agenti</h2>

<h3>Documentation Writer</h3>

<pre><code class="language-yaml"># docs-writer/agent.yaml
name: Docs Writer
description: Generuje technickou dokumentaci

style:
  language: cs
  tone: professional
  format: markdown

templates:
  - api-reference
  - user-guide
  - architecture-decision

output:
  directory: docs/
  naming: kebab-case</code></pre>

<h3>Bug Hunter</h3>

<pre><code class="language-yaml"># bug-hunter/agent.yaml
name: Bug Hunter
description: AktivnÄ› hledÃ¡ potenciÃ¡lnÃ­ bugy

scan_patterns:
  - null_pointer
  - race_condition
  - resource_leak
  - type_coercion

report_format: github_issue

severity_levels:
  critical: auto_create_issue
  high: notify_slack
  medium: add_to_report
  low: log_only</code></pre>

<h2>Aktivace agenta</h2>

<pre><code class="language-markdown"># ManuÃ¡lnÃ­ aktivace
@code-reviewer Zkontroluj zmÄ›ny v poslednÃ­m commitu

# AutomatickÃ¡ aktivace (trigger)
# Agent se spustÃ­ automaticky pÅ™i PR do main

# ParalelnÃ­ agenti
@code-reviewer @docs-writer
Zkontroluj kÃ³d a aktualizuj dokumentaci</code></pre>

<h2>SdÃ­lenÃ­ agentÅ¯</h2>

<pre><code class="language-bash"># Export agenta
gemini agent export code-reviewer --output reviewer.zip

# Import do jinÃ©ho projektu
gemini agent import reviewer.zip

# PublikovÃ¡nÃ­ do team registry
gemini agent publish code-reviewer --team myteam</code></pre>

<h2>Workspace Skills</h2>

<p>Skills jsou jednoduÅ¡Å¡Ã­ verze custom agentÅ¯ - nauÄÃ­ agenta novÃ© dovednosti specifickÃ© pro vÃ¡Å¡ projekt.</p>

<!-- Skills obrÃ¡zek - workspace skills jsou konfigurovÃ¡ny v .agent/skills/ sloÅ¾ce -->

<h3>Struktura Skill</h3>

<pre><code class="language-text">.agent/skills/
â””â”€â”€ license-header-adder/
    â”œâ”€â”€ SKILL.md           # Instrukce pro agenta
    â””â”€â”€ resources/
        â””â”€â”€ HEADER.txt     # Template soubory</code></pre>

<h3>PÅ™Ã­klad: License Header Skill</h3>

<pre><code class="language-markdown"># .agent/skills/license-header-adder/SKILL.md
---
name: license-header-adder
description: Adds the standard corporate license header to new source files.
---

# License Header Adder

This skill ensures that all new source files have the correct copyright header.

## Instructions

1. **Read the Template**: Read the content of `resources/HEADER.txt`.

2. **Apply to File**: When creating a new file, prepend this exact content.

3. **Adapt Syntax**:
   - For C-style languages (Java, TS), keep the `/* */` block.
   - For Python/Shell, convert to `#` comments.</code></pre>

<h3>Template soubor</h3>

<pre><code class="language-text"># resources/HEADER.txt
/*
 * Copyright (c) 2026 YOUR_COMPANY_NAME LLC.
 * All rights reserved.
 * This code is proprietary and confidential.
 */</code></pre>

<h3>PouÅ¾itÃ­ Skill</h3>

<p>Jakmile skill existuje, agent ho automaticky pouÅ¾ije:</p>

<pre><code class="language-text">VytvoÅ™ novÃ½ Python script data_processor.py s funkcÃ­ pro zpracovÃ¡nÃ­ CSV.</code></pre>

<p>Agent pÅ™eÄte skill, konvertuje header do Python syntaxe a pÅ™idÃ¡ ho na zaÄÃ¡tek souboru:</p>

<pre><code class="language-python"># Copyright (c) 2026 YOUR_COMPANY_NAME LLC.
# All rights reserved.
# This code is proprietary and confidential.

def process_csv(filepath):
    ...</code></pre>

<h3>ProÄ Skills?</h3>

<table>
    <thead>
        <tr>
            <th>Custom Agents</th>
            <th>Skills</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>KomplexnÃ­ konfigurace</td>
            <td>JednoduchÃ½ Markdown soubor</td>
        </tr>
        <tr>
            <td>SamostatnÃ¡ entita</td>
            <td>RozÅ¡Ã­Å™enÃ­ hlavnÃ­ho agenta</td>
        </tr>
        <tr>
            <td>Pro velkÃ© workflows</td>
            <td>Pro menÅ¡Ã­, specifickÃ© Ãºkoly</td>
        </tr>
    </tbody>
</table>

<div class="callout callout-tip">
    <div class="callout-icon">ğŸ’¡</div>
    <div class="callout-content">
        <strong>Pro Tip:</strong> ZaÄnÄ›te se Skills pro jednoduchÃ© vÄ›ci (license headers, coding standards). Na Custom Agents pÅ™ejdÄ›te aÅ¾ pro komplexnÃ­ workflows.
    </div>
</div>
